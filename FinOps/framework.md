# 13.2 FinOps Framework

FinOps Framework 是由 FinOps 基金会提供的一套指导原则和最佳实践，帮助组织在云环境中实现更好的成本可见性、成本控制和成本优化。FinOps Framework 包含角色/团队组织、实施核心原则、三个成熟阶段以及三个实施阶段周期。如下图所示：

<div  align="center">
	<img src="../assets/finops.jpg" width = "620"  align=center />
</div>


## 13.2.1 角色以及 FinOps 团队

FinOps 是一个持续性且专业性较强的工作，应尽量组建一个专业的中心团队（或虚拟团队），这个团队应有财务/基础设施采购、工程/运维、具体业务负责人、明确能授权的管理层人员。这些角色在FinOps实践中密切合作，通过协同努力实现云成本的可控和优化。他们共同关注成本管理，并在各自领域提供专业知识和支持，以达到整体的财务效益和资源效率的最大化


## 13.2.2 FinOps 实施的核心原则

实践 FinOps，有一些比较重要的原则，通过遵循这些原则，组织可以实现成本透明度、预算管理、成本分配和优化等目标。

- **建立对云成本的认识和关注**：组织中的各个层级应该意识到云成本的重要性，并将成本管理纳入到决策过程中。通过提高对成本的意识，可以更好地控制和优化云资源的使用。
- **明确云成本管理的责任和角色**：。确定负责管理云成本的团队成员，建立相应的责任制度。这样可以确保有专门的人员负责云成本的监控、分析和优化，从而提高整体的财务管理效果。
- **提供培训和教育资源**：。为组织成员提供关于云成本管理的培训和教育，使他们了解成本管理的基本概念、工具和技术。这有助于增强团队的能力，使他们能够更好地理解和应对云成本挑战。
- **促进不同团队之间的合作**：。财务团队、开发团队和运维团队应该紧密合作，共同制定和实施成本管理策略。通过协作，可以更好地理解业务需求、优化资源配置，并确保成本管理策略与业务目标相一致。
- **利用自动化工具和技术来提高效率和准确性**：通过采用自动化工具，可以更方便地收集、分析和报告云成本数据。自动化还可以帮助实现实时监控和警报，以及自动化资源管理，从而提高成本管理的效率和准确性。


## 13.2.3 FinOps KPI

FinOps 依据明确的 KPI 指标以简化成本控制过程。FinOps KPI 可大致分为以下几类：

- 云可见性 KPI：包括与跨云的成本、消耗、性能、配置、安全性和可用性相关的指标
- 云优化 KPI：包括与成本节省、生产事件、平均修复时间、安全漏洞等相关的指标
- 云治理和自动化 KPI ：包括与财务管理治理、运营治理、安全性和运营治理相关的指标

<table>
	<head>
		<tr>
			<td>KPI类别</td>
			<td>关键指标</td>
		</tr>
	</head>
	<tr>
		<td>
			云可见性
		</td>
		<td>
			预算与实际支出的差异<br>
			云资源预算成本与实际成本的对比<br>
			已打上正确标签的资源数量占环境总资源数量的百分比<br>
			未打标签资源成本占总成本的百分比<br>
			每个团队的云资源成本占总成本的百分比<br>
			云上支出占收入的百分比<br>
			每万用户云资源成本<br>
		</td>
	</tr>
	<tr>
		<td>
			云优化
		</td>
		<td>
			调整规格节省的成本占总成本百分比<br>
			每个资源的有效成本<br>
			服务的事故数量<br>
			撤销的云部署数量<br>
			平均故障时间间隔<br>
			一个月内发生的安全漏洞数量<br>
			不符合配置标准的资源数量（不适合规格、位置、镜像、标签等）<br>
		</td>
	</tr>
	<tr>
		<td>
			云治理及自动化
		</td>
		<td>
			合规状态策略的百分比<br>
			随时间推移的成本优化收益<br>
			随时间推移每个策略的成本优化收益<br>
			由于策略而节省的时间<br>
			自动化预览（例如RI、CPP）数量<br>
			纠正安全违规的时间<br>
			基于资源的承诺折扣目标覆盖率<br>
			服务可用性
		</td>
	</tr>
</table>



## 13.2.4 FinOps 成熟度模型

FinOps 的实践本质是迭代的过程，FinOps Framework 定义了关于 FinOps 的`爬`、`走`、`跑` 成熟度特征，用以评估实践结果。

在 FinOps 落地实践时，了解成熟度模型和指标可以帮助团队准确评估其当前水平，发现改进点和推进方向。例如，对于初步实践的团队，最初的重点可能是寻找成本和资源的可视化方法，而更成熟的团队则可能更加关注云开销和预算分析、成本优化和分配、以及团队间的协作和沟通等方面。

<table>
	<head>
		<tr>
			<td>成熟度类型</td>
			<td>成熟度水平特征</td>
			<td>示例 KPI </td>
		</tr>
	</head>
	<tr>
		<td>爬</td>
		<td>
			较少的报告以及策略<br>
			能评估和理解成熟度的能力提升所带来的收益<br>
			为衡量收益设定了基本的 KPI 指标 <br>
			围绕能力定义基本的流程和策略 <br>
			能力被理解，但无法被阻止内大部分团队遵循 <br>
			计划解决轻而易举的问题
		</td>
		<td>
			预测支出与实际支出准确性差差异为 20%<br>
			基于资源的承诺折扣目标覆盖率约 60% <br>
			能够至少分配 50% 的云资源支出<br>
		</td>
	</tr>
	<tr>
		<td>走</td>
		<td>
			能力在组织内得到理解和遵循<br>
			确定了困难的边界情况，但暂时无法解决<br>
			自动化、流程化覆盖了大部分能力要求 <br>
			确定大部分困难的边界情况并评估解决他们需要的工作量 <br>
			能力被理解，但无法被阻止内大部分团队遵循 <br>
			为衡量成功设定了中级、高级 KPI 指标
		</td>
		<td>
			预测支出与实际支出准确性差差异为 15%<br>
			基于资源的承诺折扣目标覆盖率约 70%<br>
			能够至少分配 80% 的云资源支出<br>
		</td>
	</tr>
	<tr>
		<td>走</td>
		<td>
			组织内所有的团队都理解并遵循能力<br>
			正在解决困难的边界情况<br>
			为衡量成功设定了非常高的 KPI 指标<br>
			完全自动化
		</td>
		<td>
			预测支出与实际支出准确性差差异为 12%<br>
			基于资源的承诺折扣目标覆盖率约 80 %<br>
			能够至少分配 90% 的云资源支出<br>
		</td>
	</tr>
</table>


采用`爬`、`走`、`跑` 的成熟度方法来执行 FinOps，使企业能够从小规模开始，并随着业务价值的提高而增加规模、范围和复杂性，从而使一项功能活动成熟。在小规模和有限的范围内采取快速行动，使 FinOps 团队能够评估其行动的结果，并获得对以更大、更快、更细的方式采取进一步行动的价值的洞察力。