# 四层负载均衡

四层负载均衡是基于Linux内核对IP数据包路由分发。

经典的LVS就是在Linux内核中利用netfilter对IP包就行修改转发，以实现流量分发的负载均衡目标。

在高可用性的架构中，可以通过等价路由或者冗余路由协议，虚拟出一个VIP，内部实现多台双活或主备的方式，四层的方案仅作为流量入口处理IP数据包转发，无法识别上层协议，灵活性很差，但性能指标较好，一般用pps(包转发/秒)衡量性能。

在企业应用中，通常是用LVS配合OSPF实现多活入口，再配合后端7层的应用协议处理网关。