# 容器镜像优化

尽管 OCI Image 的设计蕴含了“完整的操作系统就是一个包”的优秀思想，又利用 Union FS 实现了“分层”机制方便开发以及节约存储的精巧设计，但是随着时间的推移，在大规模集群的应用实践上，OCIv1镜像格式还是存在着一些问题。

这些问题主要集中在：

- **内容冗余**：不同层之间相同信息在传输和存储时都是冗余内容，在不读取内容的时候无法判断到这些冗余的存在
- **无法并行**：单一层是一个整体，对同一个层既无法并行传输，也不能并行提取
- **无法进行小块数据的校验** 只有完整的层下载完成之后，才能对整个层的数据做完整性校验


上述这些问题用一句话来总结就是“层是镜像的基本单位”，然而，镜像的数据的实际使用率是很低的， 比如 Cern 的一篇论文中就提到：一般镜像只有6%的内容会被实际用到。 这就产生了实质性升级镜像数据结构，不再以层为基本单位的需求动力。

可见，下一代镜像的一个趋势就是打破层的结构来对这些只读进行更进一步的优化。
