# 分布式事务

事务的概念起源于数据库系统，不过现在事务已经不再局限在一个关系数据库范围内，所有需要保证数据一致性的应用场景，包括但不限于数据库、缓存、消息队列、分布式存储等等都会用到事务。倘若事务的影响范围局限在单机本地内的系统时，通过编码实现起来水到渠成。但在分布式微服务的架构下，遵循每个微服务单独使用一个数据源的设计原则，情况就会变得复杂。

在 2000 年以前，人们曾经希望 XA 的事务机制在分布式环境下也能良好的应用，但这个愿望被 CAP 定理彻底粉碎，接下来我们就从 CAP 与 ACID 的矛盾说起。